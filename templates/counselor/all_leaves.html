{% include 'counselor/header.html' %}

    <!-- 快捷操作栏 -->
    <div class="flex items-center justify-between mb-6">
      <div class="flex items-center space-x-3">
        <div class="w-1 h-6 bg-gradient-to-b from-primary to-accent rounded-full"></div>
        <h2 class="text-lg font-bold text-gray-700">假条管理</h2>
      </div>
      <div class="flex items-center space-x-3">
        <a href="/counselor/statistics" class="px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl text-sm font-medium shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all flex items-center">
          <i class="fa-solid fa-chart-line mr-2"></i>详细统计
        </a>
        <div class="flex items-center space-x-2">
          <select id="exportStatus" class="px-3 py-2 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/30">
            <option value="">全部</option>
            <option value="待审批">待审批</option>
            <option value="已批准">已批准</option>
            <option value="已驳回">已驳回</option>
          </select>
          <button id="exportBtn" class="px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-xl text-sm font-medium shadow-md hover:shadow-lg transition-all flex items-center">
            <i class="fa-solid fa-download mr-2"></i>导出
          </button>
        </div>
      </div>
    </div>

    <!-- 快捷统计卡片区域 -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
      <div class="glass-card rounded-2xl p-5 hover-lift group cursor-pointer" onclick="window.location.href='/counselor/pending'">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-500">待审批</p>
            <p class="text-3xl font-bold mt-1 text-amber-500" id="pendingCount">0</p>
          </div>
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform">
            <i class="fa-solid fa-clock text-white text-lg"></i>
          </div>
        </div>
      </div>
      <div class="glass-card rounded-2xl p-5 hover-lift group cursor-pointer" onclick="window.location.href='/counselor/approved'">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-500">已批准</p>
            <p class="text-3xl font-bold mt-1 text-emerald-500" id="approvedCount">0</p>
          </div>
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform">
            <i class="fa-solid fa-circle-check text-white text-lg"></i>
          </div>
        </div>
      </div>
      <div class="glass-card rounded-2xl p-5 hover-lift group cursor-pointer" onclick="window.location.href='/counselor/rejected'">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-500">已驳回</p>
            <p class="text-3xl font-bold mt-1 text-red-500" id="rejectedCount">0</p>
          </div>
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform">
            <i class="fa-solid fa-circle-xmark text-white text-lg"></i>
          </div>
        </div>
      </div>
      <div class="glass-card rounded-2xl p-5 hover-lift group">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-500">总计</p>
            <p class="text-3xl font-bold mt-1 text-primary" id="totalCount">0</p>
          </div>
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform">
            <i class="fa-solid fa-chart-simple text-white text-lg"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- 假条筛选区域 -->
    <div class="glass-card rounded-2xl p-5 mb-6">
      <div class="flex flex-wrap items-center justify-between gap-4">
        <div class="flex items-center bg-white/50 rounded-xl p-1 shadow-inner">
          <button id="filterAll" class="px-5 py-2 bg-gradient-to-r from-primary to-accent text-white rounded-lg font-medium shadow-md transition-all">
            全部
          </button>
          <button id="filterPending" class="px-5 py-2 text-gray-600 rounded-lg hover:bg-white hover:shadow-sm transition-all">
            待审批
          </button>
          <button id="filterApproved" class="px-5 py-2 text-gray-600 rounded-lg hover:bg-white hover:shadow-sm transition-all">
            已批准
          </button>
          <button id="filterRejected" class="px-5 py-2 text-gray-600 rounded-lg hover:bg-white hover:shadow-sm transition-all">
            已驳回
          </button>
        </div>
        
        <div class="flex items-center gap-3">
          <div class="relative">
            <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
            <input type="text" id="searchInput" placeholder="搜索姓名或学号" 
                   class="pl-11 pr-4 py-2.5 bg-white border-0 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/30 w-48 transition-all">
          </div>
          <select id="gradeSelect" class="px-4 py-2.5 bg-white border-0 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/30">
            <option value="">全部年级</option>
          </select>
        </div>
      </div>
    </div>

    <!-- 假条列表容器 -->
    <div class="glass-card rounded-2xl p-5 mb-6">
      <div class="flex justify-between items-center mb-4">
        <h4 class="font-bold text-gray-700 flex items-center">
          <i class="fa-solid fa-list-check mr-2 text-primary"></i>假条列表
        </h4>
        <span class="text-sm text-gray-400 bg-gray-100 px-3 py-1 rounded-full" id="recordCount">0条记录</span>
      </div>
      
      <div id="leaveListContainer" class="space-y-3">
        <!-- 加载状态 -->
        <div class="text-center py-12 text-gray-400">
          <div class="w-12 h-12 mx-auto mb-3 rounded-xl bg-primary/10 flex items-center justify-center">
            <i class="fa-solid fa-spinner fa-spin text-primary text-xl"></i>
          </div>
          <p>正在加载数据...</p>
        </div>
      </div>
    </div>

    <!-- 分页控件 -->
    <div class="flex justify-between items-center glass-card rounded-2xl p-4">
      <div class="text-sm text-gray-500">
        第 <span class="font-bold text-primary" id="currentPageDisplay">1</span> / <span id="totalPagesDisplay">0</span> 页
      </div>
      <div class="flex gap-2">
        <button id="prevPage" disabled class="px-5 py-2 bg-white border-0 rounded-xl shadow-sm text-gray-400 cursor-not-allowed transition-all">
          <i class="fa-solid fa-chevron-left mr-1"></i> 上一页
        </button>
        <button id="nextPage" disabled class="px-5 py-2 bg-white border-0 rounded-xl shadow-sm text-gray-400 cursor-not-allowed transition-all">
          下一页 <i class="fa-solid fa-chevron-right ml-1"></i>
        </button>
      </div>
    </div>

{% include 'counselor/footer.html' %}